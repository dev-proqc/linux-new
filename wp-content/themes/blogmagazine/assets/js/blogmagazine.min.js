/**
 * Main JavaScript file for the BlogMagazine theme.
 *
 * @package    dineshghimire
 * @subpackage blogmagazine
 * @author     Dinesh Ghimire <developer.dinesh1@gmail.com>
 * @license    https://www.gnu.org/licenses/gpl-3.0.txt
 * @link       https://dinesh-ghimire.com.np
 * @since      1.0.0
 */
!function(n){"use strict";var s=n(window),r=n(document),i=s.width(),g=(s.height(),{Snipits:{Variables:function(){i=s.width(),s.height()},AppendHTML:function(){n("#site-navigation .menu-item-has-children").append('<span class="sub-toggle"> <i class="fa fa-plus"></i> </span>')},Accessibility:function(){var e=n("#site-navigation");e.find("li.menu-item").focusin(function(){n(this).hasClass("menu-item-focused")||n(this).addClass("menu-item-focused")}),e.find("li.menu-item").focusout(function(){n(this).removeClass("menu-item-focused")})},Sliders:function(){var e="rtl"==n("html").attr("dir"),a={item:1,loop:!0,auto:!0,speed:2e3,pause:6e3,pager:!1,controls:!0,vertical:!0,enableDrag:!1,enableTouch:!1,verticalHeight:35,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};n(".blogmagazine-newsticker").each(function(){n(this).lightSlider(a)});var i={item:1,auto:!0,loop:!0,speed:2e3,pause:6e3,rtl:e,pager:!1,slideMargin:0,enableDrag:!1,enableTouch:!1,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};n(".blogmagazine-featured-main-slider").each(function(){n(this).lightSlider(i)});var t=n(".blogmagazine-post-format-slider");if(t.length){var l={item:1,auto:!0,loop:!0,rtl:e,speed:2e3,pause:6e3,pager:!1,slideMargin:0,controls:!0,pauseOnHover:!0,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};t.lightSlider(l)}n(".blogmagazine-block-carousel").each(function(){var e=n(this).data("config");n(this).closest(".sidebar-main, .middle-aside, .footer_column_4").length&&(e.item=1),e.responsive=[{breakpoint:991,settings:{item:3<e.item?3:e.item,slideMove:1}},{breakpoint:840,settings:{item:2<e.item?2:e.item,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}],n(this).closest(".sidebar-main").length&&(e.item=1);var a=n(this).lightSlider(e);a.closest(".widget").find(".dglib-carousel-control").on("click",function(e){n(this).hasClass("dglib-nav-prev")?a.goToPrevSlide():a.goToNextSlide()})})},ManageStyle:function(e){var a=n("#site-navigation");768<i&&a.removeAttr("style")},Title_Tab_Toggle:function(e){var a=n(this).closest(".blogmagazine-block-title, .widget-title"),i=a.find(".wdgt-tab-toggle .fa");i.hasClass("fa-angle-up")?(i.removeClass("fa-angle-up").addClass("fa-angle-down"),a.find(".wdgt-title-tabs").removeClass("show-tabs")):(i.removeClass("fa-angle-down").addClass("fa-angle-up"),a.find(".wdgt-title-tabs").addClass("show-tabs"))},Widget_Title_Tab:function(e){e.preventDefault();var a=n(this);if(!a.closest(".wdgt-tab-term").hasClass("active-item")){var l=a.closest(".wdgt-title-tabs");if(1!=l.attr("data-loading")){var i=a.data("tab"),s=(a.closest(".blogmagazine-block-title, .widget-title"),a.closest(".widget"));if(l.find(".wdgt-tab-term").removeClass("active-item"),a.closest("li").addClass("active-item"),s.find(".blogmagazine-block-posts-wrapper").removeClass("tab-active"),s.find("."+i).length)s.find("."+i).addClass("tab-active");else{var t=n(this).data("ajax-args");t.beforeSend=function(){l.attr("data-loading",1),s.find(".blgmg-wdgt-preloader").removeClass("hidden")},t.success=function(e,a,i){l.attr("data-loading",0),s.find(".blgmg-wdgt-preloader").addClass("hidden");var t=e.widget_html;t?s.find(".dglib-tab-alldata").after(t):console.warn("Sorry faild to retrive widget html data on ajax call")},t.fail=function(e,a,i){l.attr("data-loading",0),console.warn("Sorry faild to call widget tab ajax.")},n.ajax(t)}}}},StickyMenu:function(){if("function"==typeof n().sticky){var e=jQuery("#wpadminbar");e.length?jQuery("#blogmagazine-menu-wrap").sticky({topSpacing:e.height()}):jQuery("#blogmagazine-menu-wrap").sticky({topSpacing:0})}},DisplayScrollTop:function(){1e3<s.scrollTop()?n("#blogmagazine-scrollup").fadeIn("slow"):n("#blogmagazine-scrollup").fadeOut("slow")},SubmenuToggle:function(){n(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),n(this).children(".fa-plus").first().toggleClass("fa-minus")},SearchToggle:function(){n(".search-form-main").toggleClass("active-search"),n(".search-form-main .search-field").focus()},NavigationToggle:function(){n("#site-navigation").slideToggle("slow")},TabbedWidget:function(e){if(n(this).closest("li").hasClass("active-item"))e.preventDefault();else{var a=n(this).attr("href"),i=n(this).closest(".blogmagazine-default-tabbed-wrapper");i.find("li").removeClass("active-item"),n(this).closest("li").addClass("active-item"),i.find(".blogmagazine-tabbed-section").removeClass("active"),n(a).addClass("active"),e.preventDefault()}},ScrollUp:function(){return n("html, body").animate({scrollTop:0},600),!1}},Events:function(){var e=g.Snipits;e.Accessibility();var a=e.Widget_Title_Tab;r.on("click",".dgwidgt-title-tab",a);var i=e.Title_Tab_Toggle;r.on("click",".wdgt-tab-toggle, .dgwidgt-title-tab",i);var t=e.ScrollUp;r.on("click","#blogmagazine-scrollup",t);var l=e.SearchToggle;r.on("click",".blogmagazine-header-search-wrapper .search-main",l);var s=e.NavigationToggle;r.on("click",".blogmagazine-header-menu-wrapper .menu-toggle",s);var n=e.SubmenuToggle;r.on("click","#site-navigation .sub-toggle",n);var o=e.TabbedWidget;r.on("click",".blogmagazine-widget-tab a",o)},Ready:function(){var e=g,a=e.Snipits;a.AppendHTML(),a.StickyMenu(),a.Sliders(),e.Events()},Load:function(){},Resize:function(){var e=g.Snipits;e.Variables(),e.ManageStyle()},Scroll:function(){g.Snipits.DisplayScrollTop()},Init:function(){var e=g,a=e.Ready,i=e.Load,t=e.Resize,l=e.Scroll;r.ready(a),s.load(i),s.resize(t),s.scroll(l)}});g.Init()}(jQuery);